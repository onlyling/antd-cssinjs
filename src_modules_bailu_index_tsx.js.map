{"version":3,"file":"src_modules_bailu_index_tsx.js","sources":["src/modules/bailu/bailu/button/index.tsx","src/modules/bailu/bailu/provider/provider.tsx","src/modules/bailu/index.tsx","src/modules/bailu/bailu/attach-properties-to-component.ts","src/modules/bailu/bailu/button/style.ts","src/modules/bailu/bailu/provider/index.ts","src/modules/bailu/bailu/provider/useToken.ts"],"sourcesContent":["import React, { memo } from 'react'\n\nimport { useStyle } from './style'\n\nconst prefixCls = 'demo-btn'\n\nconst CssInJsButton = ({\n  className,\n  type = 'default',\n  ...restProps\n}: React.PropsWithChildren<\n  Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'type'> & {\n    type?: 'default' | 'primary' | 'dashed'\n  }\n>) => {\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n\n  return wrapSSR(\n    <button\n      {...restProps}\n      className={[prefixCls, `${prefixCls}-${type}`, hashId, className]\n        .filter(Boolean)\n        .join(' ')}\n    />,\n  )\n}\n\nexport default memo(CssInJsButton)\n","import TOKENS from '@fruits-chain/design-tokens-bailu'\nimport { ConfigProvider, App } from 'antd'\nimport type { GlobalToken, ThemeConfig } from 'antd'\nimport type { ConfigProviderProps } from 'antd/lib/config-provider'\nimport type { AliasToken } from 'antd/lib/theme/interface/alias'\nimport zhCN from 'antd/locale/zh_CN'\nimport { locale as dayjsLocale } from 'dayjs'\nimport { useMemo, useContext } from 'react'\n\nimport 'antd/dist/reset.css'\nimport 'dayjs/locale/zh-cn'\n\ndayjsLocale('zh-cn')\n\ntype BailuToken = typeof TOKENS\nexport type BailuGlobalToken = BailuToken & GlobalToken\nexport type BailuThemeConfig = Omit<ThemeConfig, 'token'> & {\n  token?: Partial<AliasToken & BailuToken>\n}\n\nconst Provider = ({\n  children,\n  theme,\n  locale,\n  ...restProps\n}: Omit<ConfigProviderProps, 'theme'> & {\n  theme?: BailuThemeConfig\n}) => {\n  const { locale: parentLocale, theme: parentTheme } = useContext(\n    ConfigProvider.ConfigContext,\n  )\n  const token = useMemo(\n    () => ({\n      ...TOKENS,\n      ...{\n        colorPrimary: TOKENS.brand_6,\n        colorSuccess: TOKENS.green_6,\n        colorWarning: TOKENS.yellow_6,\n        colorError: TOKENS.red_6,\n        colorInfo: TOKENS.brand_6,\n      },\n      ...theme?.token,\n    }),\n    [theme?.token],\n  )\n  const _theme = useMemo(\n    () => ({ ...parentTheme, ...theme, token }),\n    [parentTheme, theme, token],\n  )\n\n  return (\n    <ConfigProvider\n      {...restProps}\n      theme={_theme}\n      locale={locale || parentLocale || zhCN}>\n      <App>{children}</App>\n    </ConfigProvider>\n  )\n}\n\nexport default Provider\n","import { Space, Tag } from 'antd'\nimport { memo, useMemo, useState } from 'react'\n\nimport AntdChildren from '../antd/app'\n\nimport Button from './bailu/button'\nimport type { BailuGlobalToken } from './bailu/provider'\nimport Provider from './bailu/provider'\n\nconst token1: Partial<BailuGlobalToken> = {\n  colorPrimary: '#098',\n  colorInfo: '#098',\n  brand_6: '#098',\n}\n\nconst Bailu = () => {\n  const [token, setToken] = useState<Partial<BailuGlobalToken> | undefined>()\n  const theme = useMemo(() => ({ token: token }), [token])\n\n  return (\n    <Provider theme={theme}>\n      <Space>\n        <Button type=\"default\">什么</Button>\n        <Button type=\"primary\">什么</Button>\n        <Button type=\"dashed\">什么</Button>\n      </Space>\n\n      <br />\n\n      <Space>\n        <Tag color=\"success\">success</Tag>\n        <Tag color=\"processing\">processing</Tag>\n        <Tag color=\"error\">error</Tag>\n        <Tag color=\"warning\">warning</Tag>\n        <Tag color=\"default\">default</Tag>\n      </Space>\n\n      <br />\n\n      <Space>\n        <Button\n          type=\"primary\"\n          onClick={() => {\n            setToken(token1)\n          }}>\n          token1\n        </Button>\n        <Button\n          onClick={() => {\n            setToken(undefined)\n          }}>\n          token reset\n        </Button>\n      </Space>\n\n      <AntdChildren />\n    </Provider>\n  )\n}\n\nexport default memo(Bailu)\n","export function attachPropertiesToComponent<C, P extends Record<string, any>>(\n  component: C,\n  properties: P,\n): C & P {\n  const ret = component as any\n  for (const key in properties) {\n    if (properties.hasOwnProperty(key)) {\n      ret[key] = properties[key]\n    }\n  }\n  return ret\n}\n","import type { CSSInterpolation, CSSObject } from '@ant-design/cssinjs'\nimport { useStyleRegister } from '@ant-design/cssinjs'\n\nimport type { BailuGlobalToken } from '../provider'\nimport Provider from '../provider'\n\n// 通用框架\nconst genSharedButtonStyle = (\n  prefixCls: string,\n  token: BailuGlobalToken,\n): CSSInterpolation => ({\n  [`.${prefixCls}`]: {\n    borderColor: token.colorBorder,\n    borderWidth: 1,\n    borderRadius: token.borderRadius,\n\n    cursor: 'pointer',\n\n    transition: 'background 0.3s',\n  },\n})\n\n// 实心底色样式\nconst genSolidButtonStyle = (\n  prefixCls: string,\n  token: BailuGlobalToken,\n  postFn: () => CSSObject,\n): CSSInterpolation => [\n  genSharedButtonStyle(prefixCls, token),\n  {\n    [`.${prefixCls}`]: {\n      ...postFn(),\n    },\n  },\n]\n\nconst genDefaultButtonStyle = (\n  prefixCls: string,\n  token: BailuGlobalToken,\n): CSSInterpolation =>\n  genSolidButtonStyle(prefixCls, token, () => ({\n    backgroundColor: 'transparent',\n    color: token.colorText,\n\n    '&:hover': {\n      color: token.brand_6,\n    },\n  }))\n\nconst genPrimaryButtonStyle = (\n  prefixCls: string,\n  token: BailuGlobalToken,\n): CSSInterpolation =>\n  genSolidButtonStyle(prefixCls, token, () => ({\n    backgroundColor: token.colorPrimary,\n    border: `1px solid ${token.colorPrimary}`,\n    color: token.colorText,\n\n    '&:hover': {\n      backgroundColor: token.colorBgContainer,\n    },\n  }))\n\nconst genDashedButtonStyle = (\n  prefixCls: string,\n  token: BailuGlobalToken,\n): CSSInterpolation => [\n  genSharedButtonStyle(prefixCls, token),\n  {\n    [`.${prefixCls}`]: {\n      backgroundColor: 'transparent',\n      color: token.colorPrimary,\n      border: `1px solid ${token.colorPrimary}`,\n      borderStyle: 'dashed',\n      '&:hover': {\n        borderColor: token.colorPrimary,\n        color: token.colorPrimary,\n      },\n    },\n  },\n]\n\nexport const useStyle = (prefixCls: string) => {\n  const { theme, token, hashId } = Provider.useToken()\n\n  const wrapSSR = useStyleRegister(\n    { theme, token, hashId, path: [prefixCls] },\n    () => [\n      genDefaultButtonStyle(`${prefixCls}-default`, token),\n      genPrimaryButtonStyle(`${prefixCls}-primary`, token),\n      genDashedButtonStyle(`${prefixCls}-dashed`, token),\n    ],\n  )\n\n  return [wrapSSR, hashId] as const\n}\n","import { attachPropertiesToComponent } from '../attach-properties-to-component'\n\nimport Provider from './provider'\nexport type { BailuGlobalToken } from './provider'\nimport useToken from './useToken'\n\nexport default attachPropertiesToComponent(Provider, { useToken })\n","import { theme as AntdTheme } from 'antd'\n\nimport type { BailuGlobalToken } from './provider'\n\nexport default () => {\n  const { theme, token, hashId } = AntdTheme.useToken()\n\n  return {\n    theme,\n    token: token as BailuGlobalToken,\n    hashId,\n  }\n}\n"],"names":["prefixCls","CssInJsButton","className","type","restProps","wrapSSR","hashId","useStyle","filter","Boolean","join","memo","Provider","children","theme","locale","parentLocale","parentTheme","useContext","ConfigProvider","ConfigContext","token","useMemo","colorPrimary","brand_6","colorSuccess","green_6","colorWarning","yellow_6","colorError","red_6","colorInfo","_theme","App","token1","Bailu","setToken","useState","Space","Tag","color","onClick","undefined","attachPropertiesToComponent","component","properties","ret","key","hasOwnProperty","genSharedButtonStyle","borderColor","colorBorder","borderWidth","borderRadius","cursor","transition","genSolidButtonStyle","postFn","genDefaultButtonStyle","backgroundColor","colorText","genPrimaryButtonStyle","border","colorBgContainer","genDashedButtonStyle","borderStyle","useToken","useStyleRegister","path"],"mappings":"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"}